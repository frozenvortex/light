<!DOCTYPE html>
<html>
     <head>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     </head>
<body>
<h2>Light Switch</h2>
<p>Click on the button to toggle the lightswitch:</p>

<button onclick="myFunction()">Switch</button>
     
     <script>
function myFunction() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>
     
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-app.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-database.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyBTrD_-4wHlVz0TbQp_mE27ixMZw6R9wfg",
    authDomain: "lights-on-lights-off.firebaseapp.com",
    databaseURL: "https://lights-on-lights-off.firebaseio.com",
    projectId: "lights-on-lights-off",
    storageBucket: "lights-on-lights-off.appspot.com",
    messagingSenderId: "1006261178153",
    appId: "1:1006261178153:web:ac1f666443eeb32671b138",
    measurementId: "G-1DEQY999S7"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
<script>
     var ref = firebase.database().ref();
     ref.once("value")
  .then(function(snapshot) {
    var number = snapshot.child("light").val();
    console.log(number);
     if (number=="1") {
          $("head").append(`<style>
body {
  background-color: white;
  color: black;
  font-size: 20px;
}

.dark-mode {
  background-color: black;
  color: white;
}
</style>`);
     }
     else {
          $("head").append(`<style>
body {
  background-color: black;
  color: white;
  font-size: 20px;
}

.dark-mode {
  background-color: white;
  color: black;
}
</style>`);
     }
  });   
     </script>
</body>
</html>
